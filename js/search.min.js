document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("search"),s=document.querySelector(".search-result"),t=e.elements.q;function n(e){e=e.trim(),fetch("/index.json").then(e=>e.json()).then(t=>{const o=t.filter(t=>{const n=t.content.toLowerCase().trim(),s=t.title.toLowerCase().trim();return n.includes(e)||s.includes(e)});let n="";e!==""&&o.length>0?o.forEach(t=>{const s=t.content.toLowerCase(),l=t.title.toLowerCase(),c=t=>t.replace(new RegExp(e,"gi"),e=>`<span class="text-yellow-500">${e}</span>`),o=130,m=s.split(" "),i=s.indexOf(e);let a=Math.max(0,i-Math.floor(o/2)),r=Math.min(s.length,i+Math.floor(o/2));a===0?r=Math.min(r+(Math.floor(o/2)-i),s.length):r===s.length&&(a=Math.max(0,a-(Math.floor(o/2)-(s.length-i-1))));const d=s.substring(a,r),u=c(d),h=c(l);n+=`<a href="${t.href}">
                             <div class="mt-4 post-card dark:post-card-dark px-3 py-6 rounded-md shadow-2xl shadow-slate-700/10">
                             <h2 class="text-xl font-semibold">${h}</h2>
                             <p class="text-gray-600 dark:text-gray-400 text-sm">${u}</p>
                             </div>
                           </a>`}):e!==""&&(n="<p class='mt-4 text-center'>No results found.</p>"),s.innerHTML=n}).catch(e=>{console.error("Error fetching search index:",e)})}t.addEventListener("input",function(){const e=this.value.toLowerCase();n(e)}),e.addEventListener("submit",function(e){e.preventDefault();const s=t.value.toLowerCase();n(s)})})